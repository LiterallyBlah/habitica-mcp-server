# Habitica MCP Server

è¿™æ˜¯ä¸€ä¸ª Model Context Protocol (MCP) æœåŠ¡å™¨ï¼Œè®© AI åŠ©æ‰‹èƒ½å¤Ÿä¸ Habitica API æ— ç¼äº¤äº’ï¼Œå¸®åŠ©æ‚¨ç®¡ç†ä»»åŠ¡ã€è¿½è¸ªä¹ æƒ¯ã€å…»æˆå® ç‰©ï¼Œäº«å—æ¸¸æˆåŒ–çš„ç”Ÿäº§åŠ›æå‡ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ® æ ¸å¿ƒæ¸¸æˆåŒ–åŠŸèƒ½
- ğŸ“‹ **æ™ºèƒ½ä»»åŠ¡ç®¡ç†**: åˆ›å»ºã€æŸ¥çœ‹ã€æ›´æ–°å’Œåˆ é™¤å„ç±»ä»»åŠ¡
- ğŸ¯ **ä¹ æƒ¯è¿½è¸ª**: è®°å½•ä¹ æƒ¯å®Œæˆæƒ…å†µï¼ŒåŸ¹å…»è‰¯å¥½ç”Ÿæ´»æ–¹å¼
- ğŸ¾ **å® ç‰©å…»æˆ**: å­µåŒ–ã€å–‚å…»å® ç‰©ï¼Œäº«å—æˆé•¿ä¹è¶£
- ğŸ‡ **åéª‘æ”¶é›†**: ç®¡ç†å’Œè£…å¤‡å„ç§åéª‘
- ğŸ›ï¸ **å•†åº—è´­ä¹°**: æµè§ˆå’Œè´­ä¹°æ¸¸æˆå†…ç‰©å“
- âš¡ **æŠ€èƒ½ç³»ç»Ÿ**: æ–½æ”¾è§’è‰²æŠ€èƒ½ï¼Œå¢å¼ºæ¸¸æˆä½“éªŒ

### ğŸ“Š æ•°æ®ç®¡ç†åŠŸèƒ½
- ğŸ‘¤ **ç”¨æˆ·æ¡£æ¡ˆ**: è·å–è¯¦ç»†çš„ç”¨æˆ·ä¿¡æ¯å’Œç»Ÿè®¡æ•°æ®
- ğŸ·ï¸ **æ ‡ç­¾ç®¡ç†**: åˆ›å»ºå’Œç®¡ç†ä»»åŠ¡æ ‡ç­¾ï¼Œæ›´å¥½åœ°ç»„ç»‡ä»»åŠ¡
- ğŸ“¬ **é€šçŸ¥ä¸­å¿ƒ**: æŸ¥çœ‹å’Œç®¡ç†ç³»ç»Ÿé€šçŸ¥
- ğŸ“¦ **ç‰©å“æ¸…å•**: æŸ¥çœ‹æ‹¥æœ‰çš„æ‰€æœ‰ç‰©å“å’Œè£…å¤‡

### ğŸ¤– AI é›†æˆç‰¹è‰²
- ğŸ§  **æ™ºèƒ½å¯¹è¯**: é€šè¿‡è‡ªç„¶è¯­è¨€ä¸ AI åŠ©æ‰‹äº¤äº’
- ğŸ“ **ä»»åŠ¡å»ºè®®**: AI å¯ä»¥æ ¹æ®æ‚¨çš„éœ€æ±‚æ™ºèƒ½åˆ›å»ºä»»åŠ¡
- ğŸ“ˆ **è¿›åº¦è·Ÿè¸ª**: è‡ªåŠ¨è·Ÿè¸ªå’ŒæŠ¥å‘Šæ‚¨çš„è¿›å±•æƒ…å†µ
- ğŸ¨ **ä¸ªæ€§åŒ–ä½“éªŒ**: æ ¹æ®æ‚¨çš„ä¹ æƒ¯æä¾›å®šåˆ¶åŒ–å»ºè®®

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js 18+ 
- npm æˆ– yarn
- æœ‰æ•ˆçš„ Habitica è´¦æˆ·

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd habictica
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **é…ç½® API å‡­æ®** (è§ä¸‹æ–¹é…ç½®ç« èŠ‚)

4. **å¯åŠ¨æœåŠ¡å™¨**
```bash
npm start
```

## âš™ï¸ é…ç½®

### è·å– Habitica API å‡­æ®

1. ç™»å½• [Habitica](https://habitica.com)
2. ç‚¹å‡»å³ä¸Šè§’å¤´åƒ â†’ **Settings**
3. é€‰æ‹© **API** é€‰é¡¹å¡
4. å¤åˆ¶ **User ID** å’Œ **API Token**

### è®¾ç½®ç¯å¢ƒå˜é‡

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡**
```bash
export HABITICA_USER_ID="your-user-id-here"
export HABITICA_API_TOKEN="your-api-token-here"
```

**æ–¹æ³•äºŒï¼šåˆ›å»º .env æ–‡ä»¶**
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .env æ–‡ä»¶
HABITICA_USER_ID=your-user-id-here
HABITICA_API_TOKEN=your-api-token-here
```


> âš ï¸ **å®‰å…¨æé†’**: è¯·å‹¿å°† API å‡­æ®æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### å¯åŠ¨æœåŠ¡å™¨
```bash
# ç”Ÿäº§ç¯å¢ƒ
npm start

# å¼€å‘ç¯å¢ƒ (æ”¯æŒçƒ­é‡è½½)
npm run dev
```

### ä¸ MCP å®¢æˆ·ç«¯é›†æˆ

è¿™ä¸ªæœåŠ¡å™¨éµå¾ª Model Context Protocol (MCP) æ ‡å‡†ï¼Œå¯ä»¥ä¸å„ç§æ”¯æŒ MCP çš„ AI å®¢æˆ·ç«¯é›†æˆä½¿ç”¨ã€‚

#### Claude Desktop é…ç½®

**é…ç½®æ–‡ä»¶ä½ç½®**ï¼š
- **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
- **Windows**: `%APPDATA%/Claude/claude_desktop_config.json`
- **Linux**: `~/.config/claude/claude_desktop_config.json`

**é…ç½®å†…å®¹**ï¼š
```json
{
  "mcpServers": {
    "habitica-mcp-server": {
      "command": "node",
      "args": ["/path/to/habitica-mcp-server/index.js"],
      "env": {
        "HABITICA_USER_ID": "your-habitica-user-id",
        "HABITICA_API_TOKEN": "your-habitica-api-token"
      }
    }
  }
}
```

**ä½¿ç”¨ NPM åŒ…é…ç½® (æ¨è)**ï¼š
```json
{
  "mcpServers": {
    "habitica-mcp-server": {
      "command": "npx",
      "args": ["-y", "habitica-mcp-server"],
      "env": {
        "HABITICA_USER_ID": "your-habitica-user-id",
        "HABITICA_API_TOKEN": "your-habitica-api-token"
      }
    }
  }
}
```

#### å…¶ä»– MCP å®¢æˆ·ç«¯é…ç½®

##### ä½¿ç”¨ MCP å®¢æˆ·ç«¯ SDK
```javascript
// Node.js ç¤ºä¾‹
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { StdioClientTransport } from '@modelcontextprotocol/sdk/client/stdio.js';

const transport = new StdioClientTransport({
  command: 'node',
  args: ['/path/to/habitica-mcp-server/index.js'],
  env: {
    HABITICA_USER_ID: 'your-habitica-user-id',
    HABITICA_API_TOKEN: 'your-habitica-api-token'
  }
});

const client = new Client({
  name: 'habitica-client',
  version: '1.0.0'
}, {
  capabilities: {}
});

await client.connect(transport);
```

##### Python å®¢æˆ·ç«¯é…ç½®
```python
# Python ç¤ºä¾‹ (ä½¿ç”¨ mcp åŒ…)
import asyncio
from mcp import ClientSession, StdioServerParameters
from mcp.client.stdio import stdio_client

async def main():
    server_params = StdioServerParameters(
        command="node",
        args=["/path/to/habitica-mcp-server/index.js"],
        env={
            "HABITICA_USER_ID": "your-habitica-user-id",
            "HABITICA_API_TOKEN": "your-habitica-api-token"
        }
    )
    
    async with stdio_client(server_params) as (read, write):
        async with ClientSession(read, write) as session:
            # è·å–å¯ç”¨å·¥å…·
            result = await session.list_tools()
            print(f"Available tools: {result.tools}")

asyncio.run(main())
```

##### è‡ªå®šä¹‰å®¢æˆ·ç«¯é›†æˆ
å¦‚æœæ‚¨ä½¿ç”¨è‡ªå®šä¹‰çš„ MCP å®¢æˆ·ç«¯ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¯åŠ¨æœåŠ¡å™¨ï¼š

```bash
# ç›´æ¥å¯åŠ¨æœåŠ¡å™¨è¿›ç¨‹
HABITICA_USER_ID="your-user-id" HABITICA_API_TOKEN="your-token" node index.js

# æˆ–ä½¿ç”¨é…ç½®æ–‡ä»¶
node index.js --config config.json
```

#### VS Code æ‰©å±•é…ç½®
å¦‚æœæ‚¨ä½¿ç”¨æ”¯æŒ MCP çš„ VS Code æ‰©å±•ï¼š

```json
// settings.json
{
  "mcp.servers": {
    "habitica-mcp-server": {
      "command": "node",
      "args": ["/path/to/habitica-mcp-server/index.js"],
      "env": {
        "HABITICA_USER_ID": "your-habitica-user-id",
        "HABITICA_API_TOKEN": "your-habitica-api-token"
      }
    }
  }
}
```

#### Docker å®¹å™¨é…ç½®
```yaml
# docker-compose.yml
version: '3.8'
services:
  habitica-mcp-server:
    build: .
    environment:
      - HABITICA_USER_ID=your-habitica-user-id
      - HABITICA_API_TOKEN=your-habitica-api-token
    ports:
      - "3000:3000"
    volumes:
      - ./config:/app/config
```

#### é…ç½®éªŒè¯
é…ç½®å®Œæˆåï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯è¿æ¥ï¼š

1. **æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€**ï¼š
```bash
curl http://localhost:3000/health
```

2. **æµ‹è¯• MCP è¿æ¥**ï¼š
å¤§å¤šæ•° MCP å®¢æˆ·ç«¯ä¼šåœ¨è¿æ¥æ—¶è‡ªåŠ¨éªŒè¯æœåŠ¡å™¨èƒ½åŠ›ã€‚æŸ¥çœ‹å®¢æˆ·ç«¯æ—¥å¿—ç¡®è®¤è¿æ¥æˆåŠŸã€‚

3. **éªŒè¯å·¥å…·åˆ—è¡¨**ï¼š
è¿æ¥æˆåŠŸåï¼Œåº”è¯¥èƒ½çœ‹åˆ° 22 ä¸ªå¯ç”¨çš„ Habitica ç›¸å…³å·¥å…·ã€‚

é…ç½®å®Œæˆåï¼Œé‡å¯æ‚¨çš„ MCP å®¢æˆ·ç«¯å³å¯å¼€å§‹ä½¿ç”¨ï¼

### ç¤ºä¾‹å¯¹è¯
```
ç”¨æˆ·: "å¸®æˆ‘åˆ›å»ºä¸€ä¸ªå­¦ä¹  Python çš„ä¹ æƒ¯"
AI: "å¥½çš„ï¼Œæˆ‘æ¥ä¸ºæ‚¨åˆ›å»ºä¸€ä¸ªå­¦ä¹  Python çš„ä¹ æƒ¯ä»»åŠ¡..."

ç”¨æˆ·: "æŸ¥çœ‹æˆ‘ä»Šå¤©çš„ä»»åŠ¡"
AI: "è®©æˆ‘ä¸ºæ‚¨æŸ¥çœ‹ä»Šå¤©çš„ä»»åŠ¡åˆ—è¡¨..."

ç”¨æˆ·: "æˆ‘å®Œæˆäº†é”»ç‚¼ï¼Œå¸®æˆ‘è®°å½•ä¸€ä¸‹"
AI: "æ­å–œï¼æˆ‘æ¥ä¸ºæ‚¨è®°å½•é”»ç‚¼å®Œæˆæƒ…å†µ..."
```

## å¯ç”¨å·¥å…·

### ç”¨æˆ·ç›¸å…³
- `get_user_profile`: è·å–ç”¨æˆ·æ¡£æ¡ˆä¿¡æ¯
- `get_stats`: è·å–ç”¨æˆ·ç»Ÿè®¡ä¿¡æ¯
- `get_inventory`: è·å–ç‰©å“æ¸…å•

### ä»»åŠ¡ç®¡ç†
- `get_tasks`: è·å–ä»»åŠ¡åˆ—è¡¨ï¼ˆå¯æŒ‡å®šç±»å‹ï¼šhabits, dailys, todos, rewardsï¼‰
- `create_task`: åˆ›å»ºæ–°ä»»åŠ¡
- `update_task`: æ›´æ–°ä»»åŠ¡
- `delete_task`: åˆ é™¤ä»»åŠ¡
- `score_task`: å®Œæˆä»»åŠ¡æˆ–è®°å½•ä¹ æƒ¯

### æ ‡ç­¾ç®¡ç†
- `get_tags`: è·å–æ ‡ç­¾åˆ—è¡¨
- `create_tag`: åˆ›å»ºæ–°æ ‡ç­¾

### å® ç‰©å’Œåéª‘
- `get_pets`: è·å–å® ç‰©åˆ—è¡¨
- `feed_pet`: å–‚å…»å® ç‰©
- `hatch_pet`: å­µåŒ–å® ç‰©
- `get_mounts`: è·å–åéª‘åˆ—è¡¨
- `equip_item`: è£…å¤‡å® ç‰©ã€åéª‘æˆ–è£…å¤‡

### å•†åº—å’Œè´­ä¹°
- `get_shop`: è·å–å•†åº—ç‰©å“åˆ—è¡¨
- `buy_item`: è´­ä¹°å•†åº—ç‰©å“
- `buy_reward`: è´­ä¹°å¥–åŠ±

### é€šçŸ¥ç®¡ç†
- `get_notifications`: è·å–é€šçŸ¥åˆ—è¡¨
- `read_notification`: æ ‡è®°é€šçŸ¥ä¸ºå·²è¯»

### æŠ€èƒ½ç³»ç»Ÿ
- `cast_spell`: æ–½æ”¾æŠ€èƒ½

## ğŸ“– API ä½¿ç”¨ç¤ºä¾‹

### åˆ›å»ºä»»åŠ¡
```json
{
  "type": "todo",
  "text": "å®Œæˆé¡¹ç›®æ–‡æ¡£",
  "notes": "åŒ…æ‹¬APIæ–‡æ¡£å’Œç”¨æˆ·æŒ‡å—",
  "difficulty": 1.5,
  "priority": 2
}
```

### å®Œæˆä»»åŠ¡
```json
{
  "taskId": "task-id-here",
  "direction": "up"
}
```

### è·å–ç‰¹å®šç±»å‹çš„ä»»åŠ¡
```json
{
  "type": "todos"
}
```

### å® ç‰©ç®¡ç†
```json
{
  "pet": "Wolf-Base",
  "food": "Meat"
}
```

### è´­ä¹°ç‰©å“
```json
{
  "itemKey": "armor_warrior_1",
  "quantity": 1
}
```

## ä»»åŠ¡ç±»å‹

- `habit`: ä¹ æƒ¯ï¼ˆå¯ä»¥æ­£å‘æˆ–è´Ÿå‘è®°å½•ï¼‰
- `daily`: æ—¥å¸¸ä»»åŠ¡ï¼ˆæ¯å¤©é‡ç½®ï¼‰
- `todo`: å¾…åŠäº‹é¡¹ï¼ˆä¸€æ¬¡æ€§ä»»åŠ¡ï¼‰
- `reward`: å¥–åŠ±ï¼ˆå¯ä»¥ç”¨é‡‘å¸è´­ä¹°ï¼‰

## éš¾åº¦ç­‰çº§

- `0.1`: ç®€å•
- `1`: ä¸­ç­‰
- `1.5`: å›°éš¾
- `2`: æéš¾

## ä¼˜å…ˆçº§

- `0.1`: ä½
- `1`: ä¸­
- `1.5`: é«˜
- `2`: æé«˜

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**é—®é¢˜**: æœåŠ¡å™¨å¯åŠ¨å¤±è´¥
```
è§£å†³æ–¹æ¡ˆ: 
1. æ£€æŸ¥ Node.js ç‰ˆæœ¬æ˜¯å¦ä¸º 18+
2. ç¡®è®¤å·²æ­£ç¡®è®¾ç½®ç¯å¢ƒå˜é‡
3. éªŒè¯ API å‡­æ®æ˜¯å¦æœ‰æ•ˆ
```

**é—®é¢˜**: API è°ƒç”¨å¤±è´¥
```
è§£å†³æ–¹æ¡ˆ:
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. éªŒè¯ Habitica API å‡­æ®
3. ç¡®è®¤ API é™åˆ¶æ˜¯å¦è¾¾åˆ°ä¸Šé™
```

**é—®é¢˜**: æ‰¾ä¸åˆ°ä»»åŠ¡æˆ–å® ç‰©
```
è§£å†³æ–¹æ¡ˆ:
1. ç¡®è®¤ä»»åŠ¡ ID æ­£ç¡®
2. æ£€æŸ¥ä»»åŠ¡æ˜¯å¦å­˜åœ¨äº Habitica ä¸­
3. éªŒè¯ç”¨æˆ·æƒé™
```

### è°ƒè¯•æ¨¡å¼
```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
DEBUG=* npm start
```

### è·å–å¸®åŠ©
- ğŸ“š æŸ¥çœ‹ [Habitica API æ–‡æ¡£](https://habitica.com/apidoc/)
- ğŸ› æäº¤ [Issues](https://github.com/your-repo/issues)
- ğŸ’¬ åŠ å…¥è®¨è®º [Discussions](https://github.com/your-repo/discussions)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®
1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### å¼€å‘æŒ‡å—
- éµå¾ªç°æœ‰ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æº - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸŒŸ è‡´è°¢

- æ„Ÿè°¢ [Habitica](https://habitica.com) æä¾›ä¼˜ç§€çš„ API
- æ„Ÿè°¢ [Anthropic](https://anthropic.com) çš„ MCP åè®®
- æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒ

---

<div align="center">
  <b>è®© AI æˆä¸ºæ‚¨çš„ Habitica ä»»åŠ¡ç®¡ç†åŠ©æ‰‹ï¼</b>
</div> 